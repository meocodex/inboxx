# ============================================
# CRM WhatsApp Omnichannel - Variaveis de Ambiente
# ============================================
# Copie este arquivo para .env e preencha os valores

# ============================================
# Aplicacao
# ============================================
NODE_ENV=development
PORT=5000
HOST=0.0.0.0

# ============================================
# Banco de Dados (PostgreSQL)
# ============================================
# Formato: postgresql://usuario:senha@host:porta/database?schema=public
DATABASE_URL=postgresql://postgres:sua_senha@localhost:5432/crmdb?schema=public

# PgBouncer (opcional, recomendado para produção)
# Use PgBouncer para pooling de transações (suporta 2000+ conexões)
# PGBOUNCER_URL=postgresql://postgres:senha@localhost:6432/crmdb

# ============================================
# Cache (Redis) - Opcional
# ============================================
# Se Redis nao estiver disponivel, a API funciona em modo degradado
REDIS_URL=redis://localhost:6379

# ============================================
# Autenticacao JWT
# ============================================
# IMPORTANTE: NUNCA use valores de exemplo em produção!
# Execute: openssl rand -base64 48
JWT_SECRET=GERE_UMA_CHAVE_SEGURA_COM_PELO_MENOS_32_CARACTERES
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# ============================================
# Cookies
# ============================================
# Execute: openssl rand -base64 48
COOKIE_SECRET=GERE_OUTRA_CHAVE_SEGURA_DIFERENTE_DA_JWT

# ============================================
# CORS
# ============================================
# URLs permitidas (separadas por virgula)
# Frontend e API rodam na mesma porta 5000
CORS_ORIGINS=http://localhost:5000

# ============================================
# Logs
# ============================================
# Niveis: fatal, error, warn, info, debug, trace
LOG_LEVEL=debug

# ============================================
# Meta Cloud API (WhatsApp Business)
# ============================================
# Execute: openssl rand -base64 24
META_WEBHOOK_VERIFY_TOKEN=DEFINA_TOKEN_UNICO_E_SEGURO_MINIMO_16_CHARS
META_APP_SECRET=COPIE_DO_PAINEL_META_DEVELOPERS
# META_ACCESS_TOKEN=COPIE_DO_PAINEL_META
# META_PHONE_NUMBER_ID=
# META_BUSINESS_ACCOUNT_ID=

# ============================================
# UaiZap (provedor alternativo)
# ============================================
# URL base da sua instalação UaiZap
# Exemplo: https://zapwixo.uazapi.com
UAIZAP_API_URL=https://zapwixo.uazapi.com

# Token de administrador para criar instâncias
# Copie da plataforma UaiZap (geralmente 40-50 caracteres)
UAIZAP_API_KEY=nJbdY4bntN5QBgCTuOojjqbfzs42wOrDer0odtWorRWKlWJoj5

# ============================================
# Meilisearch (Busca) - Opcional
# ============================================
# Se Meilisearch nao estiver disponivel, a busca usa PostgreSQL ILIKE
MEILI_URL=http://localhost:7700
MEILI_MASTER_KEY=chave-meilisearch-dev-32chars-aqui

# ============================================
# Sentry (Monitoramento de Erros) - Opcional
# ============================================
# SENTRY_DSN=https://examplePublicKey@o0.ingest.sentry.io/0

# ============================================
# OpenTelemetry (Observabilidade) - Opcional
# ============================================
# OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_METRICS_PORT=9464
